!function(o){"use strict";o.fn.sao_lightbox=function(){o.sao_lightboxMove=function(s,a){var i,e;console.log(a),s="next"==s?"next":"prev",o.each(a,(function(o){a[o]===t&&(i=o)})),"next"==s?(e=i+1,i==a.length-1&&(e=0)):"prev"==s&&(e=i-1,0==i&&(e=a.length-1));var l=a[e];o(".sao-lightbox-targetimg").css("display","none").attr("src",l.getAttribute("href")),o(".sao-lightbox-loading").css("display","block"),o(".sao-lightbox-targetimg").one("load",(function(){o(".sao-lightbox-loading").css("display","none"),o(this).css("display","inline-block")}));var n=o(l).next().html(),g="block";null==n&&(n="",g="none"),o(".sao-lightbox-title").text(n).css("display",g),o(".sao-lightbox-counter").text(o.sao_lightboxMessage(e+1,a.length)),t=l},o(".sao-builder-warp .sao-prettyphoto .sao-image img").parent("a").each((function(t,s){var a=this.href;/\.(jpg|png|gif|jpeg|bmp)$/.test(a)&&o(this).addClass("sao-img-lightbox")})),jQuery(".sao-lightbox").hasClass("sao-lightbox-active")&&o(".sao-img-lightbox").on("click",(function(s){o(".sao-lightbox").addClass("sao-lightbox-post-content"),s.stopPropagation(),s.preventDefault();var a=o(".sao-prettyphoto .sao-image img").parent("a");t=this,o(".sao-lightbox-targetimg").css("display","none").attr("src",this.getAttribute("href")),o(".sao-lightbox-targetimg").one("load",(function(){o(".sao-lightbox-loading").css("display","none"),o(this).slideToggle("slow")}));var i,e=o(this).next().html(),l="block";null==e&&(e="",l="none"),o(".sao-lightbox-title").text(e).css("display",l),o(".sao-lightbox").addClass("sao-multi-lightbox").slideToggle("fast"),o.each(a,(function(o){t===a[o]&&(i=o+1)})),1==a.length&&o(".sao-lightbox-moreitems").css("display","none"),o(".sao-lightbox-counter").text(o.sao_lightboxMessage(i,a.length))})),o(document).on("click",".sao-lightbox-post-content.sao-multi-lightbox .sao-lightbox-prevbig",(function(){o.sao_lightboxMove("prev",o(".sao-prettyphoto .sao-image img").parent("a"))})),o(document).on("click",".sao-lightbox-outer",(function(){o(".sao-lightbox").slideToggle("fast")})),o(document).on("click",".sao-lightbox-close",(function(){o(".sao-lightbox").removeClass("sao-lightbox-singleimg").removeClass("sao-multi-lightbox").slideToggle("fast"),o(".sao-lightbox").removeClass("sao-lightbox-post-contet").removeClass("sao-lightbox-gallery")})),o(document).on("click",".sao-multi-lightbox.sao-lightbox-post-content .sao-lightbox-nextbig,.sao-multi-lightbox.sao-lightbox-post-content .sao-lightbox-targetimg",(function(){o.sao_lightboxMove("next",o(".sao-prettyphoto .sao-image img").parent("a"))}));var t=null;o.sao_lightboxMessage=function(o,t){return""+function(o){for(var t=o,s=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],a=["0","1","2","3","4","5","6","7","8","9"],i=0;i<10;i++){var e=new RegExp(a[i],"g");t=t.toString().replace(e,s[i])}return t}(o+" / "+t)},o(document).on("keydown",(function(t){37==t.keyCode&&o(".sao-lightbox").hasClass("sao-multi-lightbox")&&o(".sao-lightbox").hasClass("sao-lightbox-post-content")&&o.sao_lightboxMove("prev",o(".sao-prettyphoto .sao-image img").parent("a"))})),o(document).on("keydown",(function(t){o(".sao-lightbox").hasClass("sao-multi-lightbox")&&o(".sao-lightbox").hasClass("sao-lightbox-post-content")&&39==t.keyCode&&o.sao_lightboxMove("next",o(".sao-prettyphoto .sao-image img").parent("a"))}))}}(jQuery);