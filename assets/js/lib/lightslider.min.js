!function(e,i){"use strict";var t={item:1,autoWidth:!1,slideMove:1,slideMargin:0,addClass:"",mode:"slide",useCSS:!0,cssEasing:"linear",easing:"linear",speed:400,auto:!0,pauseOnHover:!0,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!1,timer:!1,prevHtml:"",nextHtml:"",rtl:!1,between:0,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:160,thumbItem:10,pager:!1,gallery:!1,gallery_thumb:!1,pager_position:"top",gallery_thumb_text:!1,gallery_text:!1,gallery_inner_bottom_text:!1,galleryMargin:0,thumbMargin:0,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onSliderLoad2:function(e){},onBeforeSlide:function(e,i){},onAfterSlide:function(e,i){},onBeforeNextSlide:function(e,i){},onBeforePrevSlide:function(e,i){}};e.fn.sao_lightSlider=function(i){if(0===this.length)return this;if(this.length>1)return this.each((function(){e(this).lightSlider(i)})),this;var n={},a=e.extend(!0,{},t,i),l={},s=this;n.$el=this,"fade"===a.mode&&(a.vertical=!1);var o=s.children(),r=e(window).width(),d=null,c=0,u=0,h=!1,f=0,g="",v=0,p=!0===a.vertical?"height":"width",m=(a.vertical,0),S=0,C=0,b=0,M=null,T="ontouchstart"in document.documentElement,w={chbreakpoint:function(){if(r=e(window).width(),a.responsive.length){var i;if(!1===a.autoWidth&&(i=a.item),r<a.responsive[0].breakpoint)for(var t=0;t<a.responsive.length;t++)r<a.responsive[t].breakpoint&&(a.responsive[t].breakpoint,d=a.responsive[t]);if(null!=d)for(var n in d.settings)d.settings.hasOwnProperty(n)&&(void 0!==l[n]&&null!==l[n]||(l[n]=a[n]),a[n]=d.settings[n]);if(!e.isEmptyObject(l)&&r>a.responsive[0].breakpoint)for(var s in l)l.hasOwnProperty(s)&&(a[s]=l[s]);!1===a.autoWidth&&m>0&&C>0&&i!==a.item&&(v=Math.round(m/((C+a.slideMargin)*a.slideMove)))}},calSW:function(){!1===a.autoWidth&&(C=(f-(a.item*a.slideMargin-a.slideMargin))/a.item)},calWidth:function(e){var i=!0===e?g.find(".lslide").length:o.length;if(!1===a.autoWidth)u=i*(C+a.slideMargin);else{u=0;for(var t=0;t<i;t++)u+=parseInt(o.eq(t).width())+a.slideMargin}return u}};return(n={doCss:function(){return!(!a.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],i=document.documentElement,t=0;t<e.length;t++)if(e[t]in i.style)return!0}())},keyPress:function(){a.keyPress&&e(document).on("keyup.lightslider",(function(i){e(":focus").is("input, textarea")||(i.preventDefault?i.preventDefault():i.returnValue=!1,37===i.keyCode?s.goToPrevSlide():39===i.keyCode&&s.goToNextSlide())}))},controls:function(){a.controls&&(g.parents("[class*='sao-el'],[class*='rd-el']").find("[class*='arrow-next'],[class*='lSNext']").on("click",(function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,s.goToNextSlide(),!1})),g.parents("[class*='sao-el'],[class*='rd-el']").find("[class*='arrow-prev'],[class*='lSPrev']").on("click",(function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,s.goToPrevSlide(),!1})))},initialStyle:function(){var e=this;"fade"===a.mode&&(a.autoWidth=!1,a.slideEndAnimation=!1),a.auto&&(a.slideEndAnimation=!1),a.autoWidth&&(a.slideMove=1,a.item=1),a.loop&&(a.slideMove=1,a.freeMove=!1),s.parents(".sao-opacity-hide").show(),a.onBeforeStart.call(this,s),w.chbreakpoint(),s.addClass("lightSlider").wrap('<div class="lSSlideOuter '+a.addClass+'"><div class="lSSlideWrapper"></div></div>'),g=s.parent(".lSSlideWrapper"),!0===a.rtl&&g.parent().addClass("lSrtl"),a.vertical?(g.parent().addClass("vertical"),f=a.verticalHeight,g.css("height",f+"px")):f=s.outerWidth(),o.addClass("lslide"),!0===a.loop&&(w.calSW(),w.clone=function(){if(w.calWidth(!0)>f){for(var i=0,t=0,n=0;n<o.length&&(t++,!((i+=parseInt(s.find(".lslide").eq(n).width())+a.slideMargin)>=f+a.slideMargin));n++);var l=!0===a.autoWidth?t:a.item;if("slide"===a.mode){if(l<s.find(".clone.left").length)for(var r=0;r<s.find(".clone.left").length-l;r++)o.eq(r).remove();if(l<s.find(".clone.right").length)for(var d=o.length-1;d>o.length-1-s.find(".clone.right").length;d--)v--,o.eq(d).remove();for(var c=s.find(".clone.right").length;c<l;c++)s.find(".lslide").eq(c).clone().removeClass("lslide").addClass("clone right").appendTo(s),v++;for(var u=s.find(".lslide").length-s.find(".clone.left").length;u>s.find(".lslide").length-l;u--)s.find(".lslide").eq(u-1).clone().removeClass("lslide").addClass("clone left").prependTo(s);o=s.children()}else o.hasClass("clone")&&(s.find(".clone").remove(),e.move(s,0))}},w.clone()),w.sSW=function(){c=o.length,!0===a.rtl&&!1===a.vertical&&"margin-left",a.autoWidth,u=w.calWidth(!1),s.css(p,u+"px"),!0===a.loop&&"slide"===a.mode&&!1===h&&(v=s.find(".clone.left").length)},w.calL=function(){o=s.children(),c=o.length},this.doCss()&&g.addClass("usingCss"),w.calL(),"slide"===a.mode?(w.calSW(),w.sSW(),!0===a.loop&&(m=e.slideValue(),this.move(s,m)),!1===a.vertical&&this.setHeight(s,!1)):(this.setHeight(s,!0),s.addClass("lSFade"),this.doCss()||(o.fadeOut(0),o.eq(v).fadeIn(0))),!0===a.loop&&"slide"===a.mode?o.eq(v).addClass("active"):o.first().addClass("active")},pager:function(){var e=this;if(w.createPager=function(){b=(f-(a.thumbItem*a.thumbMargin-a.thumbMargin))/a.thumbItem;var i=g.find(".lslide"),t=g.find(".lslide").length,n=0,l="",o=0;for(n=0;n<t;n++){if("slide"===a.mode&&(a.autoWidth?o+=(parseInt(i.eq(n).width())+a.slideMargin)*a.slideMove:o=n*((C+a.slideMargin)*a.slideMove)),!0===a.gallery_thumb)var r='<div class="sao-thumbnail" ><span style="background-image:url('+i.eq(n).find(".sao-thumb img,.sao-image img").attr("src")+');"></span></div>';if(!0===a.gallery?l+='<li style="'+p+":"+b+'px;">'+r+"</li>":l+='<li><a href="#">'+(n+1)+"</a></li>","slide"===a.mode&&o>=u-f-a.slideMargin){n+=1;var d=2;a.autoWidth&&(l+='<li><a href="#">'+(n+1)+"</a></li>",d=1),n<d?(l=null,g.parent().addClass("noPager"),g.parent().parent().addClass("sao-hide-arrow")):(g.parent().removeClass("noPager"),g.parent().parent().removeClass("sao-hide-arrow"));break}}var c=g.parent();c.find(".lSPager").html(l),!0===a.gallery&&(!0===a.vertical&&c.find(".lSPager").css("width",a.vThumbWidth+"px"),S=n*(a.thumbMargin+b)+.5,c.find(".lSPager").css({property:S+"px","transition-duration":a.speed+"ms"}),!0===a.vertical&&(!0===a.rtl?g.css("margin-left",a.vThumbWidth+a.galleryMargin+"px"):g.css("margin-right",a.vThumbWidth+a.galleryMargin+"px")),c.find(".lSPager").css(p,S+"px"));var h=c.find(".lSPager").find("li");h.first().addClass("active"),h.on("click",(function(){return!0===a.loop&&"slide"===a.mode?v+=h.index(this)-c.find(".lSPager").find("li.active").index():v=h.index(this),s.mode(!1),!0===a.gallery&&e.slideThumb(),!1}))},a.pager){var i="lSpg";a.gallery?(i="lSGallery",g.after('<div class="sao-thumbnail-list-warp"><ul class="lSPager '+i+' " ></ul></div>')):g.after('<ul class="lSPager lSpg" ></ul>');a.vertical;w.createPager()}setTimeout((function(){w.init()}),0)},setHeight:function(e,i){var t=null,n=this;t=a.loop?e.children(".lslide ").first():e.children().first();var l=function(){var n=t.outerHeight(),a=0,l=n;i&&(n=0,a=100*l/f),e.css({height:n+"px","padding-bottom":a+"%"})};l(),t.find("img").length?t.find("img")[0].complete?(l(),M||n.auto()):t.find("img").load((function(){setTimeout((function(){l(),M||n.auto()}),100)})):M||n.auto()},active:function(e,i){this.doCss()&&"fade"===a.mode&&g.addClass("on");var t,n,l=0;v*a.slideMove<c?(e.removeClass("active"),this.doCss()||"fade"!==a.mode||!1!==i||e.fadeOut(a.speed),l=!0===i?v:v*a.slideMove,!0===i&&(n=(t=e.length)-1,l+1>=t&&(l=n)),!0===a.loop&&"slide"===a.mode&&(l=!0===i?v-s.find(".clone.left").length:v*a.slideMove,!0===i&&(n=(t=e.length)-1,l+1===t?l=n:l+1>t&&(l=0))),this.doCss()||"fade"!==a.mode||!1!==i||e.eq(l).fadeIn(a.speed),e.eq(l).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==a.mode||!1!==i||(e.fadeOut(a.speed),e.eq(l).fadeIn(a.speed)))},move:function(e,i){!0===a.rtl&&(i=-i),this.doCss()?!0===a.vertical?!0===a.rtl?e.css({transform:"translate3d(0px, "+i+"px, 0px)"}):e.css({transform:"translate3d(0px, "+-i+"px, 0px)"}):e.css({transform:"translate3d("+-i+"px, 0px, 0px)"}):!0===a.vertical?e.css("position","relative").animate({top:-i+"px"},a.speed,a.easing):e.css("position","relative").animate({left:-i+"px"},a.speed,a.easing);var t=g.parent().find(".lSPager").find("li");this.active(t,!0),!1===a.loop&&(g.parent().find(".lSPager").find("li:first-child").hasClass("active")?g.parent().parent().addClass("sao-hide-prev"):g.parent().parent().removeClass("sao-hide-prev"),g.parent().find(".lSPager").find("li:last-child").hasClass("active")?g.parent().parent().addClass("sao-hide-next"):g.parent().parent().removeClass("sao-hide-next"))},fade:function(){this.active(o,!1);var e=g.parent().find(".lSPager").find("li");this.active(e,!0),!1===a.loop&&(g.parent().find(".lSPager").find("li:first-child").hasClass("active")?g.parent().parent().addClass("sao-hide-prev"):g.parent().parent().removeClass("sao-hide-prev"),g.parent().find(".lSPager").find("li:last-child").hasClass("active")?g.parent().parent().addClass("sao-hide-next"):g.parent().parent().removeClass("sao-hide-next"))},slide:function(){var e=this;w.calSlide=function(){u>f&&(m=e.slideValue(),e.active(o,!1),m>u-f-a.slideMargin?m=u-f-a.slideMargin:m<0&&(m=0),e.move(s,m),!0===a.loop&&"slide"===a.mode&&(v>=c-s.find(".clone.left").length/a.slideMove&&e.resetSlide(s.find(".clone.left").length),0===v&&e.resetSlide(g.find(".lslide").length)))},w.calSlide()},resetSlide:function(e){var i=this;setTimeout((function(){v=e,g.css("transition-duration","0ms"),m=i.slideValue(),i.active(o,!1),n.move(s,m),setTimeout((function(){g.css("transition-duration",a.speed+"ms"),g.find(".lSAction a").removeClass("disabled")}),50)}),a.speed+100)},slideValue:function(){var e=0;if(!1===a.autoWidth)e=v*((C+a.slideMargin)*a.slideMove);else{e=0;for(var i=0;i<v;i++)e+=parseInt(o.eq(i).width())+a.slideMargin}return e},slideThumb:function(){var e;switch(a.currentPagerPosition){case"left":case"middle":e=0;break;case"right":e=f-b}var i=v-s.find(".clone.left").length,t=g.parent().find(".lSPager");"slide"===a.mode&&!0===a.loop&&(i>=t.children().length?i=0:i<0&&(i=t.children().length));var n=i*(b+a.thumbMargin)-e;n+f>S&&(n=S-f-a.thumbMargin),n<0&&(n=0),this.move(t,n)},auto:function(){a.auto&&(clearInterval(M),M=setInterval((function(){s.goToNextSlide()}),a.pause))},pauseOnHover:function(){var i=this;a.auto&&a.pauseOnHover&&(g.on("mouseenter",(function(){e(this).addClass("ls-hover"),s.pause(),a.auto=!0})),g.on("mouseleave",(function(){e(this).removeClass("ls-hover"),g.find(".lightSlider").hasClass("lsGrabbing")||i.auto()})))},touchMove:function(e,i){if(g.css("transition-duration","0ms"),"slide"===a.mode){var t=m-(e-i);if(t>=u-f-a.slideMargin)if(!1===a.freeMove)t=u-f-a.slideMargin;else{var n=u-f-a.slideMargin;t=n+(t-n)/5}else t<0&&(!1===a.freeMove?t=0:t/=5);this.move(s,t)}},touchEnd:function(e){if(g.css("transition-duration",a.speed+"ms"),"slide"===a.mode){var i=!1,t=!0;(m-=e)>u-f-a.slideMargin?(m=u-f-a.slideMargin,!1===a.autoWidth&&(i=!0)):m<0&&(m=0);var n=function(e){var t=0;if(i||e&&(t=1),a.autoWidth)for(var n=0,l=0;l<o.length&&(n+=parseInt(o.eq(l).width())+a.slideMargin,v=l+t,!(n>=m));l++);else{var s=m/((C+a.slideMargin)*a.slideMove);v=parseInt(s)+t,m>=u-f-a.slideMargin&&s%1!=0&&v++}};e>=a.swipeThreshold?(n(!1),t=!1):e<=-a.swipeThreshold&&(n(!0),t=!1),s.mode(t),this.slideThumb()}else e>=a.swipeThreshold?s.goToPrevSlide():e<=-a.swipeThreshold&&s.goToNextSlide()},enableDrag:function(){var i=this;if(!T){var t=0,n=0,l=!1;g.find(".lightSlider").addClass("lsGrab"),g.on("mousedown",(function(i){if(u<f&&0!==u)return!1;"lSPrev"!==e(i.target).attr("class")&&"lSNext"!==e(i.target).attr("class")&&(t=!0===a.vertical?i.pageY:i.pageX,l=!0,i.preventDefault?i.preventDefault():i.returnValue=!1,g.scrollLeft+=1,g.scrollLeft-=1,g.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(M))})),e(window).on("mousemove",(function(e){l&&(n=!0===a.vertical?e.pageY:e.pageX,!0===a.rtl&&!1===a.vertical?i.touchMove(t,n):i.touchMove(n,t))})),e(window).on("mouseup",(function(s){if(l){if(g.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),l=!1,n=!0===a.vertical?s.pageY:s.pageX,!0===a.rtl&&!1===a.vertical)var o=t-n;else o=n-t;Math.abs(o)>=a.swipeThreshold&&e(window).on("click.ls",(function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,i.stopImmediatePropagation(),i.stopPropagation(),e(window).off("click.ls")})),i.touchEnd(o)}}))}},enableTouch:function(){var e=this;if(T){var i={},t={};g.on("touchstart",(function(e){t=e.originalEvent.targetTouches[0],i.pageX=e.originalEvent.targetTouches[0].pageX,i.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(M)})),g.on("touchmove",(function(n){if(u<f&&0!==u)return!1;var l=n.originalEvent;t=l.targetTouches[0];var s=Math.abs(t.pageX-i.pageX),o=Math.abs(t.pageY-i.pageY);!0===a.vertical?(3*o>s&&n.preventDefault(),e.touchMove(t.pageY,i.pageY)):(3*s>o&&n.preventDefault(),!0===a.rtl?e.touchMove(i.pageX,t.pageX):e.touchMove(t.pageX,i.pageX))})),g.on("touchend",(function(){if(u<f&&0!==u)return!1;var n;n=!0===a.vertical?startCoord.pageY-sendCoords.pageY:!0===a.rtl?i.pageX-t.pageX:t.pageX-i.pageX,e.touchEnd(n)}))}},build:function(){var i=this;i.initialStyle(),this.doCss()&&(!0===a.enableTouch&&i.enableTouch(),!0===a.enableDrag&&i.enableDrag()),e(window).on("focus",(function(){i.auto()})),e(window).on("blur",(function(){clearInterval(M)})),i.pager(),i.pauseOnHover(),i.controls(),i.keyPress()}}).build(),w.init=function(){w.chbreakpoint(),!0===a.vertical?(f=a.item>1?a.verticalHeight:o.outerHeight(),g.css("height",f+"px")):f=g.outerWidth(),!0===a.loop&&"slide"===a.mode&&w.clone(),w.calL(),"slide"===a.mode&&s.removeClass("lSSlide"),"slide"===a.mode&&(w.calSW(),w.sSW()),setTimeout((function(){"slide"===a.mode&&s.addClass("lSSlide")}),1e3),a.pager&&w.createPager(),!0===a.adaptiveHeight&&a.vertical,!1===a.adaptiveHeight&&"slide"===a.mode&&(!1===a.vertical||n.auto()),!0===a.gallery&&n.slideThumb(),"slide"===a.mode&&n.slide(),!1===a.autoWidth?o.length<=a.item?g.find(".lSAction").hide():g.find(".lSAction").show():w.calWidth(!1)<f&&0!==u?g.find(".lSAction").hide():g.find(".lSAction").show()},s.goToPrevSlide=function(){if(v>0)a.onBeforePrevSlide.call(this,s,v),v--,s.mode(!1),!0===a.gallery&&n.slideThumb();else if(!0===a.loop){if(a.onBeforePrevSlide.call(this,s,v),"fade"===a.mode)v=parseInt((c-1)/a.slideMove);s.mode(!1),!0===a.gallery&&n.slideThumb()}},s.goToNextSlide=function(){var e=!0;"slide"===a.mode&&(e=n.slideValue()<u-f-a.slideMargin);v*a.slideMove<c-a.slideMove&&e?(a.onBeforeNextSlide.call(this,s,v),v++,s.mode(!1),!0===a.gallery&&n.slideThumb()):!0===a.loop&&(a.onBeforeNextSlide.call(this,s,v),v=0,s.mode(!1),!0===a.gallery&&n.slideThumb())},s.mode=function(i){!0===a.adaptiveHeight&&!1===a.vertical&&s.css("height",o.eq(v).outerHeight(!0)),!1===h&&("slide"===a.mode?n.doCss()&&(s.addClass("lSSlide"),""!==a.speed&&g.css("transition-duration",a.speed+"ms"),""!==a.cssEasing&&g.css("transition-timing-function",a.cssEasing)):n.doCss()&&(""!==a.speed&&s.css("transition-duration",a.speed+"ms"),""!==a.cssEasing&&s.css("transition-timing-function",a.cssEasing))),i||(a.onBeforeSlide.call(this,s,v),s.find("lslide").each((function(i,t){e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active")}))),"slide"===a.mode?n.slide():n.fade(),g.hasClass("ls-hover")||n.auto(),setTimeout((function(){i||a.onAfterSlide.call(this,s,v)}),a.speed),h=!0},s.play=function(){s.goToNextSlide(),a.auto=!0,n.auto()},s.pause=function(){a.auto=!1,clearInterval(M)},s.refresh=function(){w.init()},s.getCurrentSlideCount=function(){var e=v;if(a.loop){var i=g.find(".lslide").length,t=s.find(".clone.left").length;e=v<=t-1?i+(v-t):v>=i+t?v-i-t:v-t}return e+1},s.getTotalSlideCount=function(){return g.find(".lslide").length},s.goToSlide=function(e){v=a.loop?e+s.find(".clone.left").length-1:e,s.mode(!1),!0===a.gallery&&n.slideThumb()},s.destroy=function(){s.lightSlider&&(s.goToPrevSlide=function(){},s.goToNextSlide=function(){},s.mode=function(){},s.play=function(){},s.pause=function(){},s.refresh=function(){},s.getCurrentSlideCount=function(){},s.getTotalSlideCount=function(){},s.goToSlide=function(){},s.lightSlider=null,w={init:function(){}},s.parent().parent().find(".lSAction, .lSPager").remove(),s.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),s.children().removeAttr("style"),o.removeClass("lslide active"),s.find(".clone").remove(),o=null,M=null,h=!1,v=0)},setTimeout((function(){a.onSliderLoad.call(this,s),s.parents(".sao-opacity-hide").removeClass("sao-opacity-hide").addClass("sao-opacity-show")}),10),e(window).on("resize orientationchange",(function(e){setTimeout((function(){e.preventDefault?e.preventDefault():e.returnValue=!1,w.init()}),200)})),this}}(jQuery);